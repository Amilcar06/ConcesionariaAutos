{% extends "/admin/base_admin.html" %}
{% block content %}

<div class="container mx-auto mt-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Editar Información del Cliente</h1>
    
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="p-6">
            <form action="{{ url_for('auth.edit_cliente', id=cliente.idCliente) }}" method="POST">
                <div class="mb-4">
                    <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" value="{{ cliente.nombre }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="paterno" class="block text-sm font-medium text-gray-700">Apellido Paterno:</label>
                    <input type="text" id="paterno" name="paterno" value="{{ cliente.paterno }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="materno" class="block text-sm font-medium text-gray-700">Apellido Materno:</label>
                    <input type="text" id="materno" name="materno" value="{{ cliente.materno }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="direccion" class="block text-sm font-medium text-gray-700">Dirección:</label>
                    <input type="text" id="direccion" name="direccion" value="{{ cliente.direccion }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono:</label>
                    <input type="text" id="telefono" name="telefono" value="{{ cliente.telefono }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-700">Email:</label>
                    <input type="email" id="email" name="email" value="{{ cliente.email }}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="fecha_nacimiento" class="block text-sm font-medium text-gray-700">Fecha de Nacimiento:</label>
                    <input 
                        type="date" 
                        id="fecha_nacimiento" 
                        name="fecha_nacimiento" 
                        value="{{ cliente.fecha_nacimiento }}" 
                        required 
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>

                <div class="mb-4">
                    <label for="fecha_registro" class="block text-sm font-medium text-gray-700">Fecha de Registro:</label>
                    <input 
                        type="date" 
                        id="fecha_registro" 
                        name="fecha_registro" 
                        value="{{ cliente.fecha_registro }}" 
                        required 
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>                

                <button type="submit" class="px-4 py-2 bg-green-500 text-white font-semibold rounded hover:bg-green-600" onclick="return confirm('¿Estás seguro de realizar los cambios?');">Guardar</button>
                <a href="{{ url_for('auth.get_clientes') }}" class="inline-block ml-4 px-4 py-2 bg-blue-500 text-white font-semibold rounded hover:bg-blue-600">Cancelar</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}


<script>
function validarFecha(input) {
    const regex = /^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/;
    const errorSpan = document.getElementById('fecha_error');

    if (!regex.test(input.value)) {
        errorSpan.classList.remove('hidden');
    } else {
        errorSpan.classList.add('hidden');
    }
}
</script>